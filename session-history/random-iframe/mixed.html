<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>iframe random insert example</title>
    <style>
      pre {
        white-space: pre-line;
      }
    </style>
    <script>
      function randomInsert() {
        let div = document.createElement("div");
        div.innerHTML = "This should be (dynamic-generated) <b>iframe 0</b><br>";
        let frame = document.createElement("iframe");
        frame.src = "iframe0-1.html";
        div.appendChild(frame);

        let i = Math.floor(Math.random() * 9) + 1;
        let sibling = document.querySelector("#frameContainer" + i);
        document.body.insertBefore(div, sibling);
      }
      function loadFrameEntries() {
        for (let i = 0; i < window.length; i++) {
          if (window[i].next) {
            window[i].next();
          }
        }
      }
    </script>
  </head>
  <body onload="randomInsert();" onunload="">
    The page randomly insert a dynamically generated iframe 0 before one of the static iframes on each load.
    <pre>
      1. Click <button onclick="loadFrameEntries();">loadFrameEntries</button> twice to navigate the iframes.
      2.1. Click <a href="goback.html">navigate top-level doc and goback</a> to make history navigation, or
      2.2. Click <button onclick="location.reload();">location.reload();</button> or <button onclick="history.go(0);">history.go(0);</button> to reload.
      3. Verify if the iframes match what they should load.
    </pre>
    <div id="frameContainer1">This should be <b>iframe 1</b><br><iframe src="iframe1-1.html"></iframe></div>
    <div id="frameContainer2">This should be <b>iframe 2</b><br><iframe src="iframe2-1.html"></iframe></div>
    <div id="frameContainer3">This should be <b>iframe 3</b><br><iframe src="iframe3-1.html"></iframe></div>
    <div id="frameContainer4">This should be <b>iframe 4</b><br><iframe src="iframe4-1.html"></iframe></div>
    <div id="frameContainer5">This should be <b>iframe 5</b><br><iframe src="iframe5-1.html"></iframe></div>
    <div id="frameContainer6">This should be <b>iframe 6</b><br><iframe src="iframe6-1.html"></iframe></div>
    <div id="frameContainer7">This should be <b>iframe 7</b><br><iframe src="iframe7-1.html"></iframe></div>
    <div id="frameContainer8">This should be <b>iframe 8</b><br><iframe src="iframe8-1.html"></iframe></div>
    <div id="frameContainer9">This should be <b>iframe 9</b><br><iframe src="iframe9-1.html"></iframe></div>
  </body>
</html>
