<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Class: MobileMessageDB</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":true,"dateFormat":"ddd MMM Do YYYY","outputSourceFiles":true,"outputSourcePath":true,"systemName":"Gecko","footer":"","navType":"vertical","theme":"united","linenums":true,"collapseSymbols":false,"inverseNav":true,"highlightTutorialCode":true,"protocol":"html://","default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="MobileMessageDB">
            <span class="title">
                <a href="MobileMessageDB.html">MobileMessageDB</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            <span class="subtitle">Typedefs</span>
            
                <li data-name="MobileMessageDB.DeletedInfo"><a href="MobileMessageDB.html#.DeletedInfo">DeletedInfo</a></li>
            
                <li data-name="MobileMessageDB.EnsureDBCallback"><a href="MobileMessageDB.html#.EnsureDBCallback">EnsureDBCallback</a></li>
            
                <li data-name="MobileMessageDB.ForEachMatchedMmsDeliveryInfoCallback"><a href="MobileMessageDB.html#.ForEachMatchedMmsDeliveryInfoCallback">ForEachMatchedMmsDeliveryInfoCallback</a></li>
            
                <li data-name="MobileMessageDB.GetMessageRecordCallback"><a href="MobileMessageDB.html#.GetMessageRecordCallback">GetMessageRecordCallback</a></li>
            
                <li data-name="MobileMessageDB.InitCallback"><a href="MobileMessageDB.html#.InitCallback">InitCallback</a></li>
            
                <li data-name="MobileMessageDB.MESSAGE_STORE_NAME"><a href="MobileMessageDB.html#.MESSAGE_STORE_NAME">MESSAGE_STORE_NAME</a></li>
            
                <li data-name="MobileMessageDB.MessageRecord"><a href="MobileMessageDB.html#.MessageRecord">MessageRecord</a></li>
            
                <li data-name="MobileMessageDB.MmsDeliveryInfoElement"><a href="MobileMessageDB.html#.MmsDeliveryInfoElement">MmsDeliveryInfoElement</a></li>
            
                <li data-name="MobileMessageDB.MOST_RECENT_STORE_NAME"><a href="MobileMessageDB.html#.MOST_RECENT_STORE_NAME">MOST_RECENT_STORE_NAME</a></li>
            
                <li data-name="MobileMessageDB.NewTxnCallback"><a href="MobileMessageDB.html#.NewTxnCallback">NewTxnCallback</a></li>
            
                <li data-name="MobileMessageDB.NewTxnWithCallbackRequestCallback"><a href="MobileMessageDB.html#.NewTxnWithCallbackRequestCallback">NewTxnWithCallbackRequestCallback</a></li>
            
                <li data-name="MobileMessageDB.PARTICIPANT_STORE_NAME"><a href="MobileMessageDB.html#.PARTICIPANT_STORE_NAME">PARTICIPANT_STORE_NAME</a></li>
            
                <li data-name="MobileMessageDB.ParticipantIdsCallback"><a href="MobileMessageDB.html#.ParticipantIdsCallback">ParticipantIdsCallback</a></li>
            
                <li data-name="MobileMessageDB.ParticipantRecord"><a href="MobileMessageDB.html#.ParticipantRecord">ParticipantRecord</a></li>
            
                <li data-name="MobileMessageDB.ParticipantRecordCallback"><a href="MobileMessageDB.html#.ParticipantRecordCallback">ParticipantRecordCallback</a></li>
            
                <li data-name="MobileMessageDB.SaveSmsSegmentCallback"><a href="MobileMessageDB.html#.SaveSmsSegmentCallback">SaveSmsSegmentCallback</a></li>
            
                <li data-name="MobileMessageDB.SMS_SEGMENT_STORE_NAME"><a href="MobileMessageDB.html#.SMS_SEGMENT_STORE_NAME">SMS_SEGMENT_STORE_NAME</a></li>
            
                <li data-name="MobileMessageDB.SmsSegmentRecord"><a href="MobileMessageDB.html#.SmsSegmentRecord">SmsSegmentRecord</a></li>
            
                <li data-name="MobileMessageDB.THREAD_STORE_NAME"><a href="MobileMessageDB.html#.THREAD_STORE_NAME">THREAD_STORE_NAME</a></li>
            
                <li data-name="MobileMessageDB.ThreadRecord"><a href="MobileMessageDB.html#.ThreadRecord">ThreadRecord</a></li>
            
                <li data-name="MobileMessageDB.ThreadRecordCallback"><a href="MobileMessageDB.html#.ThreadRecordCallback">ThreadRecordCallback</a></li>
            
                <li data-name="MobileMessageDB.TransactionResultCallback"><a href="MobileMessageDB.html#.TransactionResultCallback">TransactionResultCallback</a></li>
            
                <li data-name="MobileMessageDB.TypedAddress"><a href="MobileMessageDB.html#.TypedAddress">TypedAddress</a></li>
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="MobileMessageDB.close"><a href="MobileMessageDB.html#.close">close</a></li>
            
                <li data-name="MobileMessageDB.createDomMessageFromRecord"><a href="MobileMessageDB.html#.createDomMessageFromRecord">createDomMessageFromRecord</a></li>
            
                <li data-name="MobileMessageDB.createMessageCursor"><a href="MobileMessageDB.html#.createMessageCursor">createMessageCursor</a></li>
            
                <li data-name="MobileMessageDB.createParticipantRecord"><a href="MobileMessageDB.html#.createParticipantRecord">createParticipantRecord</a></li>
            
                <li data-name="MobileMessageDB.createThreadCursor"><a href="MobileMessageDB.html#.createThreadCursor">createThreadCursor</a></li>
            
                <li data-name="MobileMessageDB.deleteMessage"><a href="MobileMessageDB.html#.deleteMessage">deleteMessage</a></li>
            
                <li data-name="MobileMessageDB.ensureDB"><a href="MobileMessageDB.html#.ensureDB">ensureDB</a></li>
            
                <li data-name="MobileMessageDB.fillReceivedMmsThreadParticipants"><a href="MobileMessageDB.html#.fillReceivedMmsThreadParticipants">fillReceivedMmsThreadParticipants</a></li>
            
                <li data-name="MobileMessageDB.findParticipantIdsByTypedAddresses"><a href="MobileMessageDB.html#.findParticipantIdsByTypedAddresses">findParticipantIdsByTypedAddresses</a></li>
            
                <li data-name="MobileMessageDB.findParticipantRecordByOtherAddress"><a href="MobileMessageDB.html#.findParticipantRecordByOtherAddress">findParticipantRecordByOtherAddress</a></li>
            
                <li data-name="MobileMessageDB.findParticipantRecordByPlmnAddress"><a href="MobileMessageDB.html#.findParticipantRecordByPlmnAddress">findParticipantRecordByPlmnAddress</a></li>
            
                <li data-name="MobileMessageDB.findParticipantRecordByTypedAddress"><a href="MobileMessageDB.html#.findParticipantRecordByTypedAddress">findParticipantRecordByTypedAddress</a></li>
            
                <li data-name="MobileMessageDB.findThreadRecordByTypedAddresses"><a href="MobileMessageDB.html#.findThreadRecordByTypedAddresses">findThreadRecordByTypedAddresses</a></li>
            
                <li data-name="MobileMessageDB.forEachMatchedMmsDeliveryInfo"><a href="MobileMessageDB.html#.forEachMatchedMmsDeliveryInfo">forEachMatchedMmsDeliveryInfo</a></li>
            
                <li data-name="MobileMessageDB.getMessage"><a href="MobileMessageDB.html#.getMessage">getMessage</a></li>
            
                <li data-name="MobileMessageDB.getMessageRecordById"><a href="MobileMessageDB.html#.getMessageRecordById">getMessageRecordById</a></li>
            
                <li data-name="MobileMessageDB.getMessageRecordByTransactionId"><a href="MobileMessageDB.html#.getMessageRecordByTransactionId">getMessageRecordByTransactionId</a></li>
            
                <li data-name="MobileMessageDB.init"><a href="MobileMessageDB.html#.init">init</a></li>
            
                <li data-name="MobileMessageDB.markMessageRead"><a href="MobileMessageDB.html#.markMessageRead">markMessageRead</a></li>
            
                <li data-name="MobileMessageDB.matchParsedPhoneNumbers"><a href="MobileMessageDB.html#.matchParsedPhoneNumbers">matchParsedPhoneNumbers</a></li>
            
                <li data-name="MobileMessageDB.matchPhoneNumbers"><a href="MobileMessageDB.html#.matchPhoneNumbers">matchPhoneNumbers</a></li>
            
                <li data-name="MobileMessageDB.newTxn"><a href="MobileMessageDB.html#.newTxn">newTxn</a></li>
            
                <li data-name="MobileMessageDB.newTxnWithCallback"><a href="MobileMessageDB.html#.newTxnWithCallback">newTxnWithCallback</a></li>
            
                <li data-name="MobileMessageDB.notifyDeletedInfo"><a href="MobileMessageDB.html#.notifyDeletedInfo">notifyDeletedInfo</a></li>
            
                <li data-name="MobileMessageDB.realSaveRecord"><a href="MobileMessageDB.html#.realSaveRecord">realSaveRecord</a></li>
            
                <li data-name="MobileMessageDB.replaceShortMessageOnSave"><a href="MobileMessageDB.html#.replaceShortMessageOnSave">replaceShortMessageOnSave</a></li>
            
                <li data-name="MobileMessageDB.saveReceivedMessage"><a href="MobileMessageDB.html#.saveReceivedMessage">saveReceivedMessage</a></li>
            
                <li data-name="MobileMessageDB.saveRecord"><a href="MobileMessageDB.html#.saveRecord">saveRecord</a></li>
            
                <li data-name="MobileMessageDB.saveSendingMessage"><a href="MobileMessageDB.html#.saveSendingMessage">saveSendingMessage</a></li>
            
                <li data-name="MobileMessageDB.saveSmsSegment"><a href="MobileMessageDB.html#.saveSmsSegment">saveSmsSegment</a></li>
            
                <li data-name="MobileMessageDB.setMessageDeliveryByMessageId"><a href="MobileMessageDB.html#.setMessageDeliveryByMessageId">setMessageDeliveryByMessageId</a></li>
            
                <li data-name="MobileMessageDB.setMessageDeliveryStatusByEnvelopeId"><a href="MobileMessageDB.html#.setMessageDeliveryStatusByEnvelopeId">setMessageDeliveryStatusByEnvelopeId</a></li>
            
                <li data-name="MobileMessageDB.setMessageReadStatusByEnvelopeId"><a href="MobileMessageDB.html#.setMessageReadStatusByEnvelopeId">setMessageReadStatusByEnvelopeId</a></li>
            
                <li data-name="MobileMessageDB.translateCrErrorToMessageCallbackError"><a href="MobileMessageDB.html#.translateCrErrorToMessageCallbackError">translateCrErrorToMessageCallbackError</a></li>
            
                <li data-name="MobileMessageDB.updateMessageDeliveryById"><a href="MobileMessageDB.html#.updateMessageDeliveryById">updateMessageDeliveryById</a></li>
            
                <li data-name="MobileMessageDB.updatePendingTransactionToError"><a href="MobileMessageDB.html#.updatePendingTransactionToError">updatePendingTransactionToError</a></li>
            
                <li data-name="MobileMessageDB.updateThreadByMessageChange"><a href="MobileMessageDB.html#.updateThreadByMessageChange">updateThreadByMessageChange</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="MobileMessageDB.html">Class: MobileMessageDB</h1>
        



<section>
    
<header>
    <h2>
    MobileMessageDB
    </h2>
    
        <div class="class-description"><p>
MobileMessageDB is used to store all SMS / MMS messages, as well as the
threads those messages belong to, and the participants of those messages.
</p>

<p>
The relations between threads, messages and participants can be described as
the following ERD -- each thread consists of one or many messages, and
consists of one or many participants. A participant resolves to one or many
(usually up to 2) addresses -- which represent different formats of the same
address, for example a national number and an international number.
</p>

<pre>
                     X
                    / \
+-----------+      /   \       +-----------+
|           |     /     \     /|           |
|  thread   |-|--|consist|--|--|participant|
|           |     \  of /     \|           |
+-----------+      \   /       +-----------+
      |             \ /              |
      -              V               -
      |                              |
      |                              |
      X                              X
     / \                            / \
    /   \                          /   \
   /     \                        /     \
  |consist|                      |resolve|
   \  of /                        \  to /
    \   /                          \   /
     \ /                            \ /
      V                              V
      |                              |
      |                              |
      -                              -
      |                              |
     /|\                            /|\
+-----------+                  +-----------+
|           |                  |           |
|  message  |                  |  address  |
|           |                  |           |
+-----------+                  +-----------+
</pre>

<p>
There are 4 object stores in use: </br>
1. MESSAGE_STORE: stores <a href="MobileMessageDB.html#.MessageRecord"><code>MobileMessageDB.MessageRecord</code></a>. </br>
2. THREAD_STORE: stores <a href="MobileMessageDB.html#.ThreadRecord"><code>MobileMessageDB.ThreadRecord</code></a>. </br>
3. PARTICIPANT_STORE: stores <a href="MobileMessageDB.html#.ParticipantRecord"><code>MobileMessageDB.ParticipantRecord</code></a>. </br>
4. SMS_SEGMENT_STORE: stores partial incoming SMS segments defined in
<a href="MobileMessageDB.html#.SmsSegmentRecord"><code>MobileMessageDB.SmsSegmentRecord</code></a>. The records are deleted as soon as
it's enough to compose a complete SMS message.
</p>

<p>
Besides all object stores mentioned above, there was a MOST_RECENT_STORE
which is deprecated and no longer in use.
</p></div>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <div class="nameContainer">
        <h4 class="name" id="MobileMessageDB">
            
            new MobileMessageDB<span class="signature">()</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".close">
            
            <span class="type-signature static">static</span>MobileMessageDB.close<span class="signature">()</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Close the MobileMessageDB.
    </div>
    

    

    

    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".createDomMessageFromRecord">
            
            <span class="type-signature static">static</span>MobileMessageDB.createDomMessageFromRecord<span class="signature">(aMessageRecord)</span><span class="glyphicon glyphicon-circle-arrow-right"></span><span class="type-signature returnType">{nsIDOMMozSmsMessage|nsIDOMMozMmsMessage}</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Generate a <code>nsIDOMMozSmsMessage</code> or
<code>nsIDOMMozMmsMessage</code> instance from a stored message record.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessageRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The stored message record.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    
    <h5>Returns:</h5>
    


<table class="params">
    <thead>
    <tr>
        
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
    
        <tr>
            
            <td class="type">
            
                        nsIDOMMozSmsMessage
                         | 
                    
                        nsIDOMMozMmsMessage
                        
                    
            </td>
            <td class="description last"></td>
        </tr>
    
    </tbody>
</table>

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".createMessageCursor">
            
            <span class="type-signature static">static</span>MobileMessageDB.createMessageCursor<span class="signature">(aHasStartDate, aStartDate, aHasEndDate, aEndDate, aNumbers, aNumbersCount, aDelivery, aHasRead, aRead, aThreadId, aReverse, aCallback)</span><span class="glyphicon glyphicon-circle-arrow-right"></span><span class="type-signature returnType">{GetMessagesCursor}</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Create a cursor to iterate on stored message records.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aHasStartDate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to query only messages starts with
       <code>aStartDate</code></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aStartDate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The timestamp of start date in milliseconds.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aHasEndDate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to query only messages before the
       <code>aEndDate</code></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aEndDate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The timestamp of end date in milliseconds.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aNumbers</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>
            
            
            
            <td class="description last">
                
                If not <code>null</code>, query only messages with sender or
       receiver who's number matches one of the numbers listed in the array.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aNumbersCount</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The length of <code>aNumbers</code> array.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDelivery</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If not <code>null</code>, query only messages matching the delivery
       value.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aHasRead</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to query only messages match the read value
       specified by <code>aRead</code></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aRead</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Specify the <code>read</code> query condition.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aThreadId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If not <code>null</code>, query only messages in the given thread.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aReverse</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to reverse the order.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIMobileMessageCursorCallback</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback object used by GetMessagesCursor</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    
    <h5>Returns:</h5>
    


<table class="params">
    <thead>
    <tr>
        
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
    
        <tr>
            
            <td class="type">
            
                        GetMessagesCursor
                        
                    
            </td>
            <td class="description last">The cursor to iterate on messages.</td>
        </tr>
    
    </tbody>
</table>

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".createParticipantRecord">
            
            <span class="type-signature static">static</span>MobileMessageDB.createParticipantRecord<span class="signature">(aParticipantStore, aAddresses, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Create a participant record with the given addresses, and add it into the
participant object store immediately.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aAddresses</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The addresses associated to the participant.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ParticipantRecordCallback">MobileMessageDB.ParticipantRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".createThreadCursor">
            
            <span class="type-signature static">static</span>MobileMessageDB.createThreadCursor<span class="signature">(callback)</span><span class="glyphicon glyphicon-circle-arrow-right"></span><span class="type-signature returnType">{GetThreadsCursor}</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Create a cursor to iterate on stored threads.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIMobileMessageCursorCallback</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback object used by GetMessagesCursor</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    
    <h5>Returns:</h5>
    


<table class="params">
    <thead>
    <tr>
        
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
    
        <tr>
            
            <td class="type">
            
                        GetThreadsCursor
                        
                    
            </td>
            <td class="description last">The cursor to iterate on threads.</td>
        </tr>
    
    </tbody>
</table>

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".deleteMessage">
            
            <span class="type-signature static">static</span>MobileMessageDB.deleteMessage<span class="signature">(messageIds, length, aRequest)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Delete the message record with given message IDs.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>messageIds</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The IDs of messages to delete.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>length</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The length of the <code>messageIds</code> array.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aRequest</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIMobileMessageCallback</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback object.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ensureDB">
            
            <span class="type-signature static">static</span>MobileMessageDB.ensureDB<span class="signature">(callback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Prepare the database. This may include opening the database and upgrading
it to the latest schema version.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.EnsureDBCallback">MobileMessageDB.EnsureDBCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Function that takes an error and db argument. It is called when
       the database is ready to use or if an error occurs while preparing
       the database.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".fillReceivedMmsThreadParticipants">
            
            <span class="type-signature static">static</span>MobileMessageDB.fillReceivedMmsThreadParticipants<span class="signature">(aMessage, threadParticipants)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Map receivers of a MMS message record to the thread participant list if MMS
grouping is enabled.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The MMS message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>threadParticipants</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Participants to add.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".findParticipantIdsByTypedAddresses">
            
            <span class="type-signature static">static</span>MobileMessageDB.findParticipantIdsByTypedAddresses<span class="signature">(aParticipantStore, aTypedAddresses, aCreate, aSkipNonexistent, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Find or create participant records associated to the given addresses, and
return the IDs of the participant records to the caller through the
callback.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aTypedAddresses</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Addresses to look up with.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCreate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to create a new participant record associates to
       the given addresses if not exists yet, otherwise return
       <code>null</code> to the callback if no record found.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aSkipNonexistent</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to skip the addresses not exist in the participant
       store, otherwise return <code>null</code> to the callback when one
       or more addresses not found.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ParticipantIdsCallback">MobileMessageDB.ParticipantIdsCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".findParticipantRecordByOtherAddress">
            
            <span class="type-signature static">static</span>MobileMessageDB.findParticipantRecordByOtherAddress<span class="signature">(aParticipantStore, aAddress, aCreate, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Find or create the participant record associated to the given address other
than PLMN address.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aAddress</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The address to look up with.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCreate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to create a new participant record if not exists
       yet, otherwise return <code>null</code> to the callback if record
       not found.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ParticipantRecordCallback">MobileMessageDB.ParticipantRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".findParticipantRecordByPlmnAddress">
            
            <span class="type-signature static">static</span>MobileMessageDB.findParticipantRecordByPlmnAddress<span class="signature">(aParticipantStore, aAddress, aCreate, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Find or create the participant record associated to the given PLMN address.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aAddress</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The PLMN address to look up with.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCreate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to create a new participant record if not exists
       yet, otherwise return <code>null</code> to the callback if record
       not found.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ParticipantRecordCallback">MobileMessageDB.ParticipantRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".findParticipantRecordByTypedAddress">
            
            <span class="type-signature static">static</span>MobileMessageDB.findParticipantRecordByTypedAddress<span class="signature">(aParticipantStore, aTypedAddress, aCreate, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Find or create the participant record associated to the given address.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aTypedAddress</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The address to look up with.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCreate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to create a new participant record if not exists
       yet, otherwise return <code>null</code> to the callback if record
       not found.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ParticipantRecordCallback">MobileMessageDB.ParticipantRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".findThreadRecordByTypedAddresses">
            
            <span class="type-signature static">static</span>MobileMessageDB.findThreadRecordByTypedAddresses<span class="signature">(aThreadStore, aParticipantStore, aTypedAddresses, aCreateParticipants, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Find the thread record associated to the given address.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aThreadStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for threads.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aTypedAddresses</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Addresses to look up with.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCreateParticipants</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to create participant record associated to the
       addresses if not exist yet.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ThreadRecordCallback">MobileMessageDB.ThreadRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".forEachMatchedMmsDeliveryInfo">
            
            <span class="type-signature static">static</span>MobileMessageDB.forEachMatchedMmsDeliveryInfo<span class="signature">(aDeliveryInfo, aNeedle, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Iterate all elements of <code>aDeliveryInfo</code>, check if the receiver
address matches <code>aNeedle</code> and invoke <code>aCallback</code> on
each matched element.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aDeliveryInfo</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.MmsDeliveryInfoElement">MobileMessageDB.MmsDeliveryInfoElement</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The MMS <code>deliverInfo</code> of a message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aNeedle</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The receiver address to look up with.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ForEachMatchedMmsDeliveryInfoCallback">MobileMessageDB.ForEachMatchedMmsDeliveryInfoCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke on each match.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".getMessage">
            
            <span class="type-signature static">static</span>MobileMessageDB.getMessage<span class="signature">(aMessageID, aRequest)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Get the message record with given message ID.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessageID</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aRequest</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIMobileMessageCallback</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback object.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".getMessageRecordById">
            
            <span class="type-signature static">static</span>MobileMessageDB.getMessageRecordById<span class="signature">(aMessageID, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Get the message record with given message ID.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessageID</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.GetMessageRecordCallback">MobileMessageDB.GetMessageRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".getMessageRecordByTransactionId">
            
            <span class="type-signature static">static</span>MobileMessageDB.getMessageRecordByTransactionId<span class="signature">(aTransactionId, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Get the message record with given transaction ID.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aTransactionId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The transaction ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.GetMessageRecordCallback">MobileMessageDB.GetMessageRecordCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".init">
            
            <span class="type-signature static">static</span>MobileMessageDB.init<span class="signature">(aDbName, aDbVersion, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Initialize this MobileMessageDB.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aDbName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                A string name for that database.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDbVersion</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The version that mmdb should upgrade to. 0 for the latest version.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.InitCallback">MobileMessageDB.InitCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                A function when either the initialization transaction is completed
       or any error occurs.  Should take only one argument -- null when
       initialized with success or the error object otherwise.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".markMessageRead">
            
            <span class="type-signature static">static</span>MobileMessageDB.markMessageRead<span class="signature">(messageId, value, aSendReadReport, aRequest)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Change the <code>read</code> property of a stored message record.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>messageId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>value</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The updated <code>read</code> value.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aSendReadReport</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
            
            <td class="description last">
                
                <code>true</code> to update the <code>isReadReportSent</code>
       property if the message is MMS.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aRequest</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIMobileMessageCallback</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback object.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".matchParsedPhoneNumbers">
            
            <span class="type-signature static">static</span>MobileMessageDB.matchParsedPhoneNumbers<span class="signature">(addr1, parsedAddr1, addr2, parsedAddr2)</span><span class="glyphicon glyphicon-circle-arrow-right"></span><span class="type-signature returnType">{boolean}</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Check if <code>addr1</code> matches <code>addr2</code>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>addr1</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Normalized address 1.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>parsedAddr1</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Parsed address 1.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>addr2</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Normalized address 2.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>parsedAddr2</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Parsed address 2.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    
    <h5>Returns:</h5>
    


<table class="params">
    <thead>
    <tr>
        
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
    
        <tr>
            
            <td class="type">
            
                        boolean
                        
                    
            </td>
            <td class="description last"><code>true</code> if the 2 addresses match.</td>
        </tr>
    
    </tbody>
</table>

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".matchPhoneNumbers">
            
            <span class="type-signature static">static</span>MobileMessageDB.matchPhoneNumbers<span class="signature">(addr1, parsedAddr1, addr2, parsedAddr2)</span><span class="glyphicon glyphicon-circle-arrow-right"></span><span class="type-signature returnType">{boolean}</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Check if <code>addr1</code> matches <code>addr2</code>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>addr1</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Normalized address 1.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>parsedAddr1</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Parsed address 1. Try to parse from <code>addr1</code> if not given.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>addr2</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Normalized address 2.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>parsedAddr2</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Parsed address 2. Try to parse from <code>addr2</code> if not given.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    
    <h5>Returns:</h5>
    


<table class="params">
    <thead>
    <tr>
        
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
    
        <tr>
            
            <td class="type">
            
                        boolean
                        
                    
            </td>
            <td class="description last"><code>true</code> if the 2 addresses match.</td>
        </tr>
    
    </tbody>
</table>

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".newTxn">
            
            <span class="type-signature static">static</span>MobileMessageDB.newTxn<span class="signature">(txn_type, callback, <span class="optional">storeNames</span>)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Start a new transaction.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Default</th>
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>txn_type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="default">
                
                </td>
            
            
            <td class="description last">
                
                    
                    
                        
                    
                
                Type of transaction (e.g. READ_WRITE)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.NewTxnCallback">MobileMessageDB.NewTxnCallback</a></span>


            
            </td>
            
            
                <td class="default">
                
                </td>
            
            
            <td class="description last">
                
                    
                    
                        
                    
                
                Function to call when the transaction is available. It will
       be invoked with the transaction and opened object stores.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>storeNames</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>
            
            
                <td class="default">
                
                    [<a href="MobileMessageDB.html#.MESSAGE_STORE_NAME"><code>MobileMessageDB.MESSAGE_STORE_NAME</code></a>]
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                Names of the stores to open.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".newTxnWithCallback">
            
            <span class="type-signature static">static</span>MobileMessageDB.newTxnWithCallback<span class="signature">(aCallback, aFunc, <span class="optional">aStoreNames</span>)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Start a new transaction with default <code>oncomplete</code> /
<code>onabort</code> implementation on the <code>IDBTransaction</code>
object which redirects the error / result to <code>aCallback</code>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Default</th>
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="default">
                
                </td>
            
            
            <td class="description last">
                
                    
                    
                        
                    
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.TransactionResultCallback">MobileMessageDB.TransactionResultCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the transaction finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aFunc</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.NewTxnWithCallbackRequestCallback">MobileMessageDB.NewTxnWithCallbackRequestCallback</a></span>


            
            </td>
            
            
                <td class="default">
                
                </td>
            
            
            <td class="description last">
                
                    
                    
                        
                    
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aStoreNames</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>
            
            
                <td class="default">
                
                    [<a href="MobileMessageDB.html#.MESSAGE_STORE_NAME"><code>MobileMessageDB.MESSAGE_STORE_NAME</code></a>]
                
                </td>
            
            
            <td class="description last">
                
                    
                        <span class="optional">optional</span>
                    
                    
                        
                    
                
                Names of the stores to open.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".notifyDeletedInfo">
            
            <span class="type-signature static">static</span>MobileMessageDB.notifyDeletedInfo<span class="signature">(info)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Notify the observers that one or more messages are deleted.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>info</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.DeletedInfo">MobileMessageDB.DeletedInfo</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The IDs of deleted messages and threads.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".realSaveRecord">
            
            <span class="type-signature static">static</span>MobileMessageDB.realSaveRecord<span class="signature">(aTransaction, aMessageStore, aParticipantStore, aThreadStore, aMessageRecord, aThreadParticipants, aDeletedInfo)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        The function where object store manipulations actually occur.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aTransaction</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The transaction object.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aMessageStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for messages.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aThreadStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for threads.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aMessageRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message record to store.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aThreadParticipants</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Participants of the thread of the message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDeletedInfo</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.DeletedInfo">MobileMessageDB.DeletedInfo</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                An out parameter indicating which messages have been deleted due to
       the replacement.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".replaceShortMessageOnSave">
            
            <span class="type-signature static">static</span>MobileMessageDB.replaceShortMessageOnSave<span class="signature">(aTransaction, aMessageStore, aParticipantStore, aThreadStore, aMessageRecord, aThreadParticipants, aDeletedInfo)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        According to <i>3GPP 23.040 - subclause 9.2.3.9 TP-Protocol-Identifier (TP-PID)</i>,
if the Protocol Identifier contains a <i>Replace Short Message Type</i> or
<i>Return Call Message</i> code, it should replace any existing stored
message having the same Protocol Identifier code and originating address.

This function checks the Protocol Identifier before saving the message
record to fulfill the feature.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aTransaction</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The transaction object.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aMessageStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for messages.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aParticipantStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for participants.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aThreadStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for threads.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aMessageRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message record to store.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aThreadParticipants</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Participants of the thread of the message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDeletedInfo</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.DeletedInfo">MobileMessageDB.DeletedInfo</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                An out parameter indicating which messages have been deleted due to
       the replacement.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".saveReceivedMessage">
            
            <span class="type-signature static">static</span>MobileMessageDB.saveReceivedMessage<span class="signature">(aMessage, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Store an incoming message.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message record to store.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.TransactionResultCallback">MobileMessageDB.TransactionResultCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the transaction finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".saveRecord">
            
            <span class="type-signature static">static</span>MobileMessageDB.saveRecord<span class="signature">(aMessageRecord, aThreadParticipants, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Save a message record.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessageRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Message record to store.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aThreadParticipants</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="MobileMessageDB.html#.TypedAddress">MobileMessageDB.TypedAddress</a>></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Participants of the thread of the message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.TransactionResultCallback">MobileMessageDB.TransactionResultCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the transaction finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".saveSendingMessage">
            
            <span class="type-signature static">static</span>MobileMessageDB.saveSendingMessage<span class="signature">(aMessage, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Store an outgoing message.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message record to store.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.TransactionResultCallback">MobileMessageDB.TransactionResultCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the transaction finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".saveSmsSegment">
            
            <span class="type-signature static">static</span>MobileMessageDB.saveSmsSegment<span class="signature">(aSmsSegment, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Store a single SMS segment.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aSmsSegment</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.SmsSegmentRecord">MobileMessageDB.SmsSegmentRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                Single SMS segment.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object which includes a callback function.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>notify</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.SaveSmsSegmentCallback">MobileMessageDB.SaveSmsSegmentCallback</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The callback function to invoke when the request finishes.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".setMessageDeliveryByMessageId">
            
            <span class="type-signature static">static</span>MobileMessageDB.setMessageDeliveryByMessageId<span class="signature">(messageId, receiver, delivery, deliveryStatus, envelopeId, callback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Update the <code>delivery</code>, <code>deliveryStatus</code>, and
<code>envelopeId</code> of a stored message record matching the given
message ID.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>messageId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The message ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>receiver</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The receiver address.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>delivery</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>deliveryIndex</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>deliveryStatus</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>deliveryStatus</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>envelopeId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>envelopeIdIndex</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object passed as <code>aCallback</code> to
       <a href="MobileMessageDB.html#.newTxnWithCallback"><code>MobileMessageDB.newTxnWithCallback</code></a>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".setMessageDeliveryStatusByEnvelopeId">
            
            <span class="type-signature static">static</span>MobileMessageDB.setMessageDeliveryStatusByEnvelopeId<span class="signature">(aEnvelopeId, aReceiver, aDeliveryStatus, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Update the <code>deliveryStatus</code> of the specified
<code>aReceiver</code> within the <code>deliveryInfo</code> of the message
record retrieved by the given <code>envelopeId</code>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aEnvelopeId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The envelope ID, which is the "x-mms-transaction-id" in the header
       of an MMS message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aReceiver</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The receiver address.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDeliveryStatus</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>deliveryStatus</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object passed as <code>aCallback</code> to
       <a href="MobileMessageDB.html#.newTxnWithCallback"><code>MobileMessageDB.newTxnWithCallback</code></a>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".setMessageReadStatusByEnvelopeId">
            
            <span class="type-signature static">static</span>MobileMessageDB.setMessageReadStatusByEnvelopeId<span class="signature">(aEnvelopeId, aReceiver, aReadStatus, aCallback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Update the <code>readStatus</code> of the specified <code>aReceiver</code>
within the <code>deliveryInfo</code> of the message record retrieved by the
given <code>envelopeId</code>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aEnvelopeId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The envelope ID, which is the "x-mms-transaction-id" in the header
       of an MMS message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aReceiver</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The receiver address.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aReadStatus</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The updated read status.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCallback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object passed as <code>aCallback</code> to
       <a href="MobileMessageDB.html#.newTxnWithCallback"><code>MobileMessageDB.newTxnWithCallback</code></a>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".translateCrErrorToMessageCallbackError">
            
            <span class="type-signature static">static</span>MobileMessageDB.translateCrErrorToMessageCallbackError<span class="signature">(aCrError)</span><span class="glyphicon glyphicon-circle-arrow-right"></span><span class="type-signature returnType">{number}</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Helper to translate NS errors to the error causes defined in
<code>nsIMobileMessageCallback</code>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aCrError</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code defined in <code>Components.result</code></td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    
    <h5>Returns:</h5>
    


<table class="params">
    <thead>
    <tr>
        
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
    
        <tr>
            
            <td class="type">
            
                        number
                        
                    
            </td>
            <td class="description last">The error code defined in <code>nsIMobileMessageCallback</code></td>
        </tr>
    
    </tbody>
</table>

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".updateMessageDeliveryById">
            
            <span class="type-signature static">static</span>MobileMessageDB.updateMessageDeliveryById<span class="signature">(id, type, receiver, delivery, deliveryStatus, envelopeId, callback)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Find the message of a given message ID or envelope ID. Update its
<code>delivery</code>, <code>deliveryStatus</code>, and
<code>envelopeId</code> accordingly.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>id</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If <code>type</code> is "messageId", it represents the message ID;
       If <code>type</code> is "envelopeId", it represents the envelope ID,
       which is the "x-mms-transaction-id" in the header of an MMS message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Either "messageId" or "envelopeId".</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>receiver</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The receiver address.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>delivery</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>deliveryIndex</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>deliveryStatus</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>deliveryStatus</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>envelopeId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            <td class="description last">
                
                If given, it will be used to update the <code>envelopeIdIndex</code>
       property of a stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object passed as <code>aCallback</code> to
       <a href="MobileMessageDB.html#.newTxnWithCallback"><code>MobileMessageDB.newTxnWithCallback</code></a>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".updatePendingTransactionToError">
            
            <span class="type-signature static">static</span>MobileMessageDB.updatePendingTransactionToError<span class="signature">(aError)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Sometimes user might reboot or remove battery while sending/receiving
message. This function set the status of message records to error. The
function can be used as the callback of <a href="MobileMessageDB.html#.init"><code>MobileMessageDB.init</code></a>.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aError</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The function does nothing if <code>aError</code> is not
       <code>null</code>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".updateThreadByMessageChange">
            
            <span class="type-signature static">static</span>MobileMessageDB.updateThreadByMessageChange<span class="signature">(messageStore, threadStore, threadId, removedMsgIds, ignoredUnreadCount, deletedInfo)</span>
        </h4>
    </div>

    
</dt>
<dd>

    
    <div class="description">
        Update the thread when one or more messages are deleted / replaced.
    </div>
    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>messageStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for messages.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>threadStore</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store for threads.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>threadId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The thread ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>removedMsgIds</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The IDs of removed messages.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>ignoredUnreadCount</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                Negative offset for <code>unreadCount</code>. For example, if the
       <code>unreadCount</code> was 5, given
       <code>ignoredUnreadCount</code> to 3 causes <code>unreadCount</code>
       becomes 2.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>deletedInfo</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.DeletedInfo">MobileMessageDB.DeletedInfo</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                An out parameter indicating if the thread is deleted after the
       operation.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

        </dl>
    
    
    
        <h3 class="subsection-title">Type Definitions</h3>
        
        <dl>
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".DeletedInfo">MobileMessageDB.DeletedInfo<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    
    
<dl class="details">
    
        
        <h5 class="subsection-title">Properties:</h5>
        
        <dl>

<table class="props">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>messageIds</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>
            
            
            
            
            
            <td class="description last">IDs of deleted messages.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>threadIds</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>
            
            
            
            
            
            <td class="description last">IDs of deleted threads, which indicates all messages within the
          threads have been deleted.</td>
        </tr>
	
	
	</tbody>
</table></dl>
        
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".EnsureDBCallback">
            
            MobileMessageDB.EnsureDBCallback<span class="signature">(aErrorCode, aDatabase)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aErrorCode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code on failure, or <code>null</code> on success.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDatabase</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBDatabase</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The ready-to-use database object on success.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ForEachMatchedMmsDeliveryInfoCallback">
            
            MobileMessageDB.ForEachMatchedMmsDeliveryInfoCallback<span class="signature">(aElement)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aElement</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MmsDeliveryInfoElement">MobileMessageDB.MmsDeliveryInfoElement</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                An element of the MMS <code>deliverInfo</code> of a message record.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".GetMessageRecordCallback">
            
            MobileMessageDB.GetMessageRecordCallback<span class="signature">(aErrorCode, aMessageRecord, aDomMessage)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aErrorCode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code on failure, or <code>NS_OK</code> on success.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aMessageRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The stored message record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDomMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIDOMMozSmsMessage</span>
|

<span class="param-type">nsIDOMMozMmsMessage</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The DOM message instance of the message record.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".InitCallback">
            
            MobileMessageDB.InitCallback<span class="signature">(aErrorCode)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aErrorCode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code on failure, or <code>null</code> on success.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".MESSAGE_STORE_NAME">MobileMessageDB.MESSAGE_STORE_NAME<span class="type-signature type string">string</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        The name of the object store for messages.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".MessageRecord">MobileMessageDB.MessageRecord<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        Represents a SMS or MMS message.

<pre>
+--------------------------------------------------------------------------+
| MessageRecord                                                            |
+--------------------------------------------------------------------------+
| id: Number (primary-key)                                                 |
|                                                                          |
| [SMS / MMS Common]                                                       |
| type: String                                                             |
| read: Number // Works as boolean, only use 0 or 1.                       |
| iccId: String                                                            |
| sender: String                                                           |
| delivery: String                                                         |
| timestamp: Number                                                        |
| sentTimestamp: Number                                                    |
|                                                                          |
| [Database Foreign Keys]                                                  |
| threadId: Number                                                         |
|                                                                          |
| [Common Indices]                                                         |
| threadIdIndex: Array // [threadId, timestamp]                            |
| deliveryIndex: Array // [delivery, timestamp]                            |
| readIndex: Array // [read, timpstamp]                                    |
| participantIdsIndex: Array of Array // [[participantId, timestamp], ...] |
|                                                                          |
| [SMS / Common Fields]                                                    |
| pid: Number                                                              |
| SMSC: String                                                             |
| receiver: String                                                         |
| encoding: Number                                                         |
| messageType: Number                                                      |
| teleservice: Number                                                      |
| messageClass: String                                                     |
| deliveryStatus: String                                                   |
| deliveryTimestamp: Number                                                |
|                                                                          |
| [SMS / Application Port Info]                                            |
| originatorPort: Number                                                   |
| destinationPort: Number                                                  |
|                                                                          |
| [SMS / MWI status]                                                       |
| mwiPresent: Boolean                                                      |
| mwiDiscard: Boolean                                                      |
| mwiMsgCount: Number                                                      |
| mwiActive: Boolean                                                       |
|                                                                          |
| [SMS / Message Body]                                                     |
| data: Array of Uint8 (available if it's 8bit encoding)                   |
| body: String (normal text body)                                          |
| fullBody: String                                                         |
|                                                                          |
| [SMS / CDMA Cellbroadcast Related]                                       |
| serviceCategory: Number                                                  |
| language: String                                                         |
|                                                                          |
| [MMS Info]                                                               |
| receivers: Array of String                                               |
| phoneNumber: String                                                      |
| transactionIdIndex: String                                               |
| envelopeIdIndex: String                                                  |
| isReadReportSent: Boolean                                                |
| deliveryInfo: Array of {                                                 |
|   receiver: String                                                       |
|   deliveryStatus: String                                                 |
|   deliveryTimestamp: Number                                              |
|   readStatus: String                                                     |
|   readTimestamp: Number                                                  |
| }                                                                        |
| headers: {                                                               |
|   x-mms-message-type: Number                                             |
|   x-mms-transaction-id: String                                           |
|   x-mms-mms-version: Number                                              |
|   from: {                                                                |
|     address: String                                                      |
|     type: String                                                         |
|   }                                                                      |
|   subject: String                                                        |
|   x-mms-message-class: String                                            |
|   x-mms-message-size: Number                                             |
|   x-mms-expiry: Number                                                   |
|   x-mms-content-location: {                                              |
|     uri: String                                                          |
|   }                                                                      |
|   to: Array of {                                                         |
|     address: String                                                      |
|     type: String                                                         |
|   }                                                                      |
|   x-mms-read-report: Boolean                                             |
|   x-mms-priority: Number                                                 |
|   message-id: String                                                     |
|   date: String                                                           |
|   x-mms-delivery-report: Boolean                                         |
|   content-type: {                                                        |
|     media: String                                                        |
|     params: {                                                            |
|       type: String                                                       |
|       start: String                                                      |
|     }                                                                    |
|   }                                                                      |
| }                                                                        |
| parts: Array of {                                                        |
|    index: Number                                                         |
|    headers: {                                                            |
|      content-type: {                                                     |
|        media: String                                                     |
|        params: {                                                         |
|          name: String                                                    |
|          charset: {                                                      |
|            charset: String                                               |
|          }                                                               |
|        }                                                                 |
|      content-length: Number                                              |
|      content-location: String                                            |
|      content-id: String                                                  |
|    }                                                                     |
|    content: String                                                       |
| }                                                                        |
+--------------------------------------------------------------------------+
</pre>
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".MmsDeliveryInfoElement">MobileMessageDB.MmsDeliveryInfoElement<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    
    
<dl class="details">
    
        
        <h5 class="subsection-title">Properties:</h5>
        
        <dl>

<table class="props">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>receiver</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>deliveryStatus</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>deliveryTimestamp</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            
            
            <td class="description last"></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>readStatus</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>readTimestamp</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            
            
            <td class="description last"></td>
        </tr>
	
	
	</tbody>
</table></dl>
        
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".MOST_RECENT_STORE_NAME">MobileMessageDB.MOST_RECENT_STORE_NAME<span class="type-signature type string">string</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    
    
<dl class="details">
    
        
    
    
    

    
        <dt class="important tag-deprecated">Deprecated</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".NewTxnCallback">
            
            MobileMessageDB.NewTxnCallback<span class="signature">(aErrorCode, aTransaction, aObjectStores)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aErrorCode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code on failure, or <code>null</code> on success.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aTransaction</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The transaction object to operate the indexedDB on success.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aObjectStores</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>
|

<span class="param-type">Array.&lt;IDBObjectStore></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store(s) on success. If only one object store is passed,
       it's passed as an <code>IDBObjectStore</code>; Otherwise, it's
       <code>IDBObjectStore[]</code>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".NewTxnWithCallbackRequestCallback">
            
            MobileMessageDB.NewTxnWithCallbackRequestCallback<span class="signature">(aCapture, aObjectStores)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aCapture</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            <td class="description last">
                
                An output parameter. The <code>messageRecord</code> property will be
       set on transaction finishes.
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>messageRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.MessageRecord">MobileMessageDB.MessageRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The stored message record. The property presents if the transaction
       finished successfully.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aObjectStores</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">IDBObjectStore</span>
|

<span class="param-type">Array.&lt;IDBObjectStore></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The object store(s) on success. If only one object store is passed,
       it's passed as an <code>IDBObjectStore</code>; Otherwise, it's
       <code>IDBObjectStore[]</code>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".PARTICIPANT_STORE_NAME">MobileMessageDB.PARTICIPANT_STORE_NAME<span class="type-signature type string">string</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        The name of the object store for participants.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ParticipantIdsCallback">
            
            MobileMessageDB.ParticipantIdsCallback<span class="signature">(aParticipantIds)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantIds</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>
            
            
            
            <td class="description last">
                
                An array of participant IDs. May be <code>null</code>.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ParticipantRecord">MobileMessageDB.ParticipantRecord<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        Represents the mapping of a participant and one or multiple addresses.
(National and Int'l numbers)

<pre>
+----------------------------+
| ParticipantRecord          |
+----------------------------+
| id: Number (primary-key)   |
| addresses: Array of String |
+----------------------------+
</pre>
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ParticipantRecordCallback">
            
            MobileMessageDB.ParticipantRecordCallback<span class="signature">(aParticipantRecord)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aParticipantRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ParticipantRecord">MobileMessageDB.ParticipantRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The stored participant record.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".SaveSmsSegmentCallback">
            
            MobileMessageDB.SaveSmsSegmentCallback<span class="signature">(aErrorCode, aCompleteMessage)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aErrorCode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code on failure, or <code>NS_OK</code> on success.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aCompleteMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.SmsSegmentRecord">MobileMessageDB.SmsSegmentRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The composing message. It becomes a complete message once the last
       segment is stored.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".SMS_SEGMENT_STORE_NAME">MobileMessageDB.SMS_SEGMENT_STORE_NAME<span class="type-signature type string">string</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        The name of the object store for incoming SMS segments.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".SmsSegmentRecord">MobileMessageDB.SmsSegmentRecord<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        Represents a SMS segment.

<pre>
+---------------------------------------------------------------+
| SmsSegmentRecord                                              |
+---------------------------------------------------------------+
| [Common Fields in SMS segment]                                |
| messageType: Number                                           |
| teleservice: Number                                           |
| SMSC: String                                                  |
| sentTimestamp: Number                                         |
| timestamp: Number                                             |
| sender: String                                                |
| pid: Number                                                   |
| encoding: Number                                              |
| messageClass: String                                          |
| iccId: String                                                 |
|                                                               |
| [Concatenation Info]                                          |
| segmentRef: Number                                            |
| segmentSeq: Number                                            |
| segmentMaxSeq: Number                                         |
|                                                               |
| [Application Port Info]                                       |
| originatorPort: Number                                        |
| destinationPort: Number                                       |
|                                                               |
| [MWI Status]                                                  |
| mwiPresent: Boolean                                           |
| mwiDiscard: Boolean                                           |
| mwiMsgCount: Number                                           |
| mwiActive: Boolean                                            |
|                                                               |
| [CDMA Cell Broadcast Related Fields]                          |
| serviceCategory: Number                                       |
| language: String                                              |
|                                                               |
| [Message Body]                                                |
| data: Array of Uint8 (available if it's 8bit encoding)        |
| body: String (normal text body)                               |
|                                                               |
| [Handy Fields Created by DB for Concatenation]                |
| id: Number (primary-key)                                      |
| hash: String // Use to identify the segments to the same SMS. |
| receivedSegments: Number                                      |
| segments: Array                                               |
+---------------------------------------------------------------+
</pre>
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".THREAD_STORE_NAME">MobileMessageDB.THREAD_STORE_NAME<span class="type-signature type string">string</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        The name of the object store for threads.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ThreadRecord">MobileMessageDB.ThreadRecord<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    <div class="description">
        Represents a message thread.

<pre>
+---------------------------------------+
| ThreadRecord                          |
+---------------------------------------+
| id: Number (primary-key)              |
| participantIds: Array of Number       |
| participantAddresses: Array of String |
| lastMessageId: Number                 |
| lastTimestamp: Number                 |
| unreadCount: Number                   |
| lastMessageType: String               |
|                                       |
| [SMS Only]                            |
| body: String                          |
|                                       |
| [MMS Only]                            |
| lastMessageSubject: String            |
+---------------------------------------+
</pre>
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".ThreadRecordCallback">
            
            MobileMessageDB.ThreadRecordCallback<span class="signature">(aThreadRecord, aParticipantIds)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aThreadRecord</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="MobileMessageDB.html#.ThreadRecord">MobileMessageDB.ThreadRecord</a></span>


            
            </td>
            
            
            
            <td class="description last">
                
                The stored thread record.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aParticipantIds</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>
            
            
            
            <td class="description last">
                
                IDs of participants of the thread.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".TransactionResultCallback">
            
            MobileMessageDB.TransactionResultCallback<span class="signature">(aErrorCode, aDomMessage)</span>
        </h4>
    </div>

    
</dt>
<dd>

    

    

    

    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>aErrorCode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The error code on failure, or <code>NS_OK</code> on success.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>aDomMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">nsIDOMMozSmsMessage</span>
|

<span class="param-type">nsIDOMMozMmsMessage</span>


            
            </td>
            
            
            
            <td class="description last">
                
                The DOM message instance of the transaction result.</td>
        </tr>
	
	
	</tbody>
</table>
    

    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>


    

    

    

    

    

    
</dd>

            
                
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".TypedAddress">MobileMessageDB.TypedAddress<span class="type-signature type object">Object</span> </h4>
    </div>
    
    
</dt>
<dd>
    
    
    
<dl class="details">
    
        
        <h5 class="subsection-title">Properties:</h5>
        
        <dl>

<table class="props">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>address</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Address</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Type of the address, such as "PLMN", "IPv4",
          "IPv6", "email" or "Others"</td>
        </tr>
	
	
	</tbody>
</table></dl>
        
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    
</dd>

            </dl>
    
    
    
</article>

</section>  





        

        <footer>
            Documentation generated by <a target="_blank" href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Mon Jul 13 2015 16:05:24 GMT+0800 (CST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>